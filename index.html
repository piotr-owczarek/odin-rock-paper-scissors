<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock, Paper, Scissors</title>
</head>

<body>
    <div class="player">
        <button>Rock</button>
        <button>Paper</button>
        <button>Scissors</button>
    </div>
    <div class="player-score"></div>
    <div class="comp-score"></div>
    <div class="result"></div>
</body>

<script>
    const buttons = document.querySelectorAll('button');
    const player = document.querySelector('.player-score');
    const comp = document.querySelector('.comp-score');
    const result = document.querySelector('.result');

    let score = [0,0];
    player.textContent = `Player score: ${score[0]}`;
    comp.textContent = `Comp score: ${score[1]}`;
    result.textContent = 'Wish you luck!';

    function getComputerChoice() {
        let words = ["Rock", "Paper", "Scissors"];
        let number = Math.floor(Math.random() * words.length);
        return words[number];
    }

    function playRound(playerSelection, computerSelection, score) {
        playerSelection = playerSelection.toString().toLowerCase();
        computerSelection = computerSelection.toString().toLowerCase();
        if ( playerSelection == computerSelection ) {
                score[0]++;    
                score[1]++;
                return score;
        }
        else if (playerSelection == "rock") {
            if (computerSelection == "paper") {
                score[1]++;
                return score;
            }
            else {
                score[0]++;
                return score;
            }
        }
        else if (playerSelection == "scissors") {
            if (computerSelection == "rock") {
                score[1]++;
                return score;
            }
            else {
                score[0]++;
                return score;
            }
        }
        else if (playerSelection == "paper") {
            if (computerSelection == "scissors") {
                score[1]++;
                return score;
            }
            else {
                score[0]++;
                return score;
            }
        }
        else {
            return score;
        }
    }

    function game() {
        let playerSelection = this.innerText;
        let computerSelection = getComputerChoice();
        score = playRound(playerSelection, computerSelection, score);
        player.textContent = `Player score: ${score[0]}`;
        comp.textContent = `Comp score: ${score[1]}`;
        result.textContent = `You have chosen ${playerSelection} and the computer has chosen ${computerSelection}!`;

        if (score[0] == 5 && score[0] == score[1]){
            score = [0,0];
            player.textContent = `Player score: ${score[0]}`;
            comp.textContent = `Comp score: ${score[1]}`;
            result.textContent = `That's a tie!`;
        }
        else if (score[0] == 5 && score[0] > score[1]){
            score = [0,0];
            player.textContent = `Player score: ${score[0]}`;
            comp.textContent = `Comp score: ${score[1]}`;
            result.textContent = `WOHOOO! You won!`;
        } 
        else if (score[1] == 5 && score[1] > score[0]){
            score = [0,0];
            player.textContent = `Player score: ${score[0]}`;
            comp.textContent = `Comp score: ${score[1]}`;
            result.textContent = `Computer won!`;
        }
    }

    buttons.forEach(btn => btn.addEventListener('click', game));

</script>
</html>